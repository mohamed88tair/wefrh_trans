# ุชุญููู ุดุงูู ููุธุงู ุงูุชุฑุฌูุฉ ุงููุชุนุฏุฏ ุงููุบุงุช

## 1. ุชุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database Schema Analysis)

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:

#### `translation_projects` - ุฌุฏูู ุงููุดุงุฑูุน
- **ุงูููุงุชูุญ**: `id` (primary key), ูุฑุชุจุท ุจู `translation_items`
- **ุงูุญููู ุงูุฃุณุงุณูุฉ**: name, fileName, fileType, fileSize
- **ุฅุญุตุงุฆูุงุช ุงูุชูุฏู**: totalItems, translatedItems, progressPercentage
- **ุญุงูุฉ ุงููุดุฑูุน**: isCompleted, isTranslating, translationPaused
- **ุจูุงูุงุช ุฅุถุงููุฉ**: originalContent, formatMetadata, metadata
- **ุชุชุจุน ุงูููุช**: createdAt, updatedAt, lastOpenedAt

#### `translation_items` - ุนูุงุตุฑ ุงูุชุฑุฌูุฉ
- **ุงูุฑุจุท**: projectId references translation_projects(id)
- **ุงููุญุชูู**: key, originalText, translatedText
- **ุงูุญุงูุฉ**: status (untranslated/translated/needs_review/error)
- **ุงูุชุญุฏูุฏ**: selected (ููุชุฑุฌูุฉ ุงููุญุฏุฏุฉ)

#### `api_settings` - ุฅุนุฏุงุฏุงุช API
- **ุงููุฒูุฏูู**: provider (openai/gemini/anthropic/xai/deepseek)
- **ุงูุชูููู**: apiKey, model, isActive

#### `global_settings` - ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
- **ููุงุชูุญ ุงูุฅุนุฏุงุฏุงุช**: settingKey/settingValue pairs
- **ููุงุฐุฌ ุงูุชุฑุงุถูุฉ**: defaultTranslationModel, batchTranslationModel

#### `background_tasks` - ุงูููุงู ุงูุฎูููุฉ
- **ุงูุฑุจุท**: projectId references translation_projects(id)
- **ุงูุชุชุจุน**: type, status, progress, processedItems
- **ุงูุฅุนุฏุงุฏุงุช**: settings (jsonb ูููุฒูุฏ ูุงููููุฐุฌ)

#### `system_logs` - ุณุฌูุงุช ุงููุธุงู
- **ุงูุชุตููู**: level, category (system/database/api/translation)
- **ุชุชุจุน ุงูุชูููุฉ**: aiModel, inputTokens, outputTokens, estimatedCost
- **ุงูุฃุฏุงุก**: duration, statusCode

## 2. ุชุญููู ููุทู ุงูุชุทุจูู (Application Logic)

### ุฃ. ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน:
- **ุฅูุดุงุก ุงููุดุฑูุน**: ุชุญููู ุงูููู โ ุงุณุชุฎุฑุงุฌ ุงูุนูุงุตุฑ โ ุญูุธ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ูุชุญ ุงููุดุฑูุน**: ุชุญุฏูุซ lastOpenedAt โ ุฌูุจ ุงูุนูุงุตุฑ โ ุนุฑุถ ูุงุฌูุฉ ุงูุชุฑุฌูุฉ
- **ุญุฐู ุงููุดุฑูุน**: ุญุฐู ุงูุนูุงุตุฑ ุฃููุงู โ ุญุฐู ุงููุดุฑูุน (CASCADE)

### ุจ. ุขููุฉ ุงูุชุฑุฌูุฉ:
1. **ุชุฑุฌูุฉ ูุฑุฏูุฉ**: ูุต ูุงุญุฏ โ API call โ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. **ุชุฑุฌูุฉ ุฏูุนูุฉ**: ูุฌููุนุฉ ูุตูุต โ ูุนุงูุฌุฉ ูุชุชุงููุฉ โ ุชุญุฏูุซ ุงูุชูุฏู
3. **ุชุฑุฌูุฉ ูุญุฏุฏุฉ**: ููุชุฑุฉ ุงูุนูุงุตุฑ ุงููุญุฏุฏุฉ โ ูุนุงูุฌุฉ ุฏูุนูุฉ

### ุฌ. ุฅุฏุงุฑุฉ API:
- **ุชุฏููุฑ ุงููุฒูุฏูู**: Gemini โ OpenAI โ Anthropic โ xAI โ DeepSeek
- **ุงุฎุชุจุงุฑ ุงูุงุชุตุงู**: ูุฏุงุก ุชุฌุฑูุจู ููู ูุฒูุฏ
- **ุชุชุจุน ุงูุชูููุฉ**: ุญุณุงุจ ุงูุฑููุฒ โ ุชูุฏูุฑ ุงูุชูููุฉ โ ุชุณุฌูู ุงููุดุงุท

## 3. ุชุญููู ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI/UX Analysis)

### ุตูุญุฉ ุงููุดุงุฑูุน (`/projects`):
- **ุนุฑุถ ุงููุดุงุฑูุน**: ูุฑูุช ูุน ุฅุญุตุงุฆูุงุช ูุดุงุฑุงุช ุงูุญุงูุฉ
- **ุฅูุดุงุก ูุดุฑูุน**: ุฑูุน ููู โ ุชุญููู โ ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช
- **ุฅุฌุฑุงุกุงุช ุงููุดุฑูุน**: ูุชุญุ ุชุญุฏูุซ ุงูุชูุฏูุ ุญุฐู

### ุตูุญุฉ ุงูุชุฑุฌูุฉ (`/translator`):
- **ุฌุฏูู ุงูุชุฑุฌูุฉ**: ุนุฑุถ ุงูุนูุงุตุฑ ูุน ููุชุฑุฉ ูุชุญุฏูุฏ
- **ุฃุฒุฑุงุฑ ุงูุชุญูู**: ุชุฑุฌูุฉ ุงูููุ ุชุฑุฌูุฉ ุงููุญุฏุฏุ ุฅููุงู/ุงุณุชุฆูุงู
- **ุดุฑูุท ุฌุงูุจู**: ุฅุนุฏุงุฏุงุช ุงูุชุฑุฌูุฉ ูุชุชุจุน ุงูุชูุฏู

### ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ (`/global-settings`):
- **ุฅุฏุงุฑุฉ API**: ุฅุถุงูุฉ/ุชุญุฏูุซ/ุญุฐู ูุฒูุฏู ุงูุฎุฏูุฉ
- **ุงูููุงุฐุฌ ุงูุงูุชุฑุงุถูุฉ**: ููุชุฑุฌูุฉ ุงููุฏููุฉ ูุงูุฏูุนูุฉ

## 4. ููุงุท ุงูููุฉ ูุงูุถุนู

### ููุงุท ุงูููุฉ:
โ **ูุงุนุฏุฉ ุจูุงูุงุช ูุญููุฉ**: ุนูุงูุงุช ูุงุถุญุฉ ูุน foreign keys
โ **ุฏุนู ูุชุนุฏุฏ ุงูุตูุบ**: PHP, JSON, PO, CSV
โ **ุชุชุจุน ุดุงูู**: ุฅุญุตุงุฆูุงุชุ ุณุฌูุงุชุ ุชูููุฉ AI
โ **ูุงุฌูุฉ ูุชุฌุงูุจุฉ**: React + TypeScript + shadcn/ui
โ **ุฅุฏุงุฑุฉ ุญุงูุฉ**: TanStack Query ููุชุฎุฒูู ุงููุคูุช
โ **ูุฒูุฏูู ูุชุนุฏุฏูู**: 5 ูุฒูุฏู AI ูุฎุชูููู

### ููุงุท ุชุญุชุงุฌ ุชุญุณูู:
๐ง **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุชุญุชุงุฌ ุชุญุณูู ูู ุจุนุถ ุงูุญุงูุงุช ุงูุญุฏูุฉ
๐ง **ุงูุชุญูู ูู ุงูุฃุฐููุงุช**: ูุง ููุฌุฏ ูุธุงู ูุณุชุฎุฏููู ูุนุงู
๐ง **ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ**: ูุง ููุฌุฏ ุขููุฉ ุงุณุชุฑุฏุงุฏ ุชููุงุฆูุฉ
๐ง **ุงูุฃูุงู**: API keys ูุฎุฒูุฉ ูู plaintext

## 5. ุชุฏูู ุงูุจูุงูุงุช (Data Flow)

```
ุงููุณุชุฎุฏู โ ูุงุฌูุฉ React โ API Routes โ Storage Layer โ PostgreSQL
                                    โ
                               AI Providers โ Cost Tracking โ System Logs
```

### ูุณุงุฑ ุฅูุดุงุก ูุดุฑูุน:
1. ุฑูุน ุงูููู โ `createProjectMutation`
2. ุชุญููู ุงููุญุชูู โ `php-parser.ts`
3. ุฅูุดุงุก ูุดุฑูุน โ `storage.createProject()`
4. ุฅุฏุฑุงุฌ ุงูุนูุงุตุฑ โ `storage.createTranslationItem()` (bulk)
5. ุชุญุฏูุซ ุงูุชูุฏู โ `storage.updateProjectProgress()`

### ูุณุงุฑ ุงูุชุฑุฌูุฉ:
1. ุงุฎุชูุงุฑ ูุตูุต โ ุชุญุฏูุซ `selectedItems`
2. ูุฏุงุก ุชุฑุฌูุฉ โ AI Provider API
3. ูุนุงูุฌุฉ ุงููุชูุฌุฉ โ `storage.updateTranslationItem()`
4. ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช โ `storage.updateProjectProgress()`
5. ุชุณุฌูู ุงููุดุงุท โ `logger.logTranslation()`

## 6. ุงูุชูุตูุงุช ููุชุญุณูู

### ุฃ. ุงูุฃูุงู:
- ุชุดููุฑ API keys ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุถุงูุฉ ูุธุงู ูุตุงุฏูุฉ ูุณุชุฎุฏููู
- ุชุญุฏูุฏ ุฃุฐููุงุช ุงููุตูู ูููุดุงุฑูุน

### ุจ. ุงูุฃุฏุงุก:
- ููุฑุณุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู `projectId`, `status`
- ุชุญุณูู ุงุณุชุนูุงูุงุช ุงูุนูุงุตุฑ ุงููุจูุฑุฉ
- ุฅุถุงูุฉ pagination ูููุดุงุฑูุน ูุงูุนูุงุตุฑ

### ุฌ. ุงูููุซูููุฉ:
- ุฅุถุงูุฉ retry logic ูู API calls
- ูุธุงู queue ููุชุฑุฌูุงุช ุงูุฏูุนูุฉ
- ุขููุฉ ุงุณุชุฑุฏุงุฏ ูู ุงูุฃุฎุทุงุก

### ุฏ. ุงููุฑุงูุจุฉ:
- dashboard ููุฅุญุตุงุฆูุงุช ุงููุชูุฏูุฉ
- ุชูุจููุงุช ูุงุณุชููุงุฏ API quotas
- ุชุชุจุน ุฃุฏุงุก ุงููุฒูุฏูู ุงููุฎุชูููู

## 7. ุงูุฎูุงุตุฉ

ุงููุธุงู ูุจูู ุจุดูู ูุญูู ูุน:
- **ูููู ูุงุนุฏุฉ ุจูุงูุงุช ูุชูู**
- **ูุงุฌูุฉ ูุณุชุฎุฏู ูุชุทูุฑุฉ**
- **ุฏุนู ูุฒูุฏูู ูุชุนุฏุฏูู**
- **ุชุชุจุน ุดุงูู ููุนูููุงุช**

ุงููุฌุงูุงุช ุงูุฑุฆูุณูุฉ ููุชุทููุฑ ุชุชุฑูุฒ ุนูู ุงูุฃูุงู ูุงูุฃุฏุงุก ูุงูููุซูููุฉ.